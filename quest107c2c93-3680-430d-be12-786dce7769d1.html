<!DOCTYPE html>
<html lang="sr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Interaktivna mapa – primer</title>
    <style>
        :root{
            --bg:#0b3b2e;
            --map-shadow: 0 25px 70px rgba(0,0,0,.28);
            --circle:#ffd43b;
            --accent:#1e9e63;
            --tooltip-bg: #0e1f1a;
            --tooltip-border: #2ad08b;
            --tooltip-text: #fff;
        }
        html,body{height:100%;margin:0;background:linear-gradient(135deg,#0a2c23,#0f4b35);font:16px/1.4 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;color:#fff}
        .wrap{max-width:1000px;margin:40px auto;padding:16px}
        h1{margin:0 0 12px;font-weight:800;letter-spacing:.2px}
        p{margin:0 0 18px;opacity:.85}

        /* Map container */
        .map{
            position:relative;
            width:100%;
            aspect-ratio: 3/4; /* keep it tall */
            border-radius:24px;
            overflow:hidden;
            box-shadow: var(--map-shadow);
            background:#1c563f; /* fallback color if image isn't set */
            outline:1px solid rgba(255,255,255,.08);
        }
        .map > img{
            position:absolute;inset:0; width:100%; height:100%; object-fit:cover; filter:saturate(1.05) contrast(1.05);
        }

        /* Marker */
        .marker{
            --x:50%;
            --y:50%;
            position:absolute;
            left:var(--x); top:var(--y);
            transform:translate(-50%,-50%);
            width:28px; height:28px;
            border-radius:50%;
            background:radial-gradient(circle at 30% 30%,#fff8b3, var(--circle));
            border:2px solid rgba(0,0,0,.25);
            display:grid; place-items:center;
            cursor:pointer;
            transition: transform .15s ease, box-shadow .15s ease;
            box-shadow: 0 4px 16px rgba(0,0,0,.25);
        }
        .marker:hover{ transform: translate(-50%,-50%) scale(1.06); box-shadow: 0 6px 22px rgba(0,0,0,.35) }
        .marker::after{ /* tiny tree trunk */
            content:""; width:4px; height:10px; background:#6b3f13; border-radius:2px; margin-top:10px;
        }

        /* Tooltip */
        .tooltip{
            position:absolute; left:50%; top:-10px; translate:-50% -100%;
            background:var(--tooltip-bg); color:var(--tooltip-text);
            border:1px solid var(--tooltip-border);
            padding:10px 12px; border-radius:12px; max-width:280px; width: max-content;
            box-shadow: 0 10px 26px rgba(0,0,0,.35);
            display:none;
        }
        .tooltip h3{margin:0 0 6px; font-size:14px; letter-spacing:.2px}
        .tooltip p{margin:0; font-size:13px; opacity:.95}
        .tooltip::after{ /* arrow */
            content:""; position:absolute; left:50%; bottom:-7px; translate:-50% 0; width:12px; height:12px;
            background:var(--tooltip-bg); border-right:1px solid var(--tooltip-border); border-bottom:1px solid var(--tooltip-border); transform: rotate(45deg);
        }

        /* Show on hover/focus */
        .marker:is(:hover,:focus-visible)[aria-expanded="false"] + .tooltip,
        .marker[aria-expanded="true"] + .tooltip{ display:block }

        /* Small screens: make tooltips a bit bigger */
        @media (max-width:600px){ .tooltip{ max-width:75vw; font-size:14px } }

        /* Helper badge */
        .badge{ display:inline-block; padding:6px 10px; background:#114c37; border:1px solid #2ad08b; border-radius:999px; font-size:12px; letter-spacing:.3px }
    </style>
</head>
<body>
<div class="wrap">
    <div class="map" id="map">
        <!-- Замените src на файл вашей карты. Можно оставить пустым: фон будет зелёным. -->
        <img src="../mapq.png" alt="Mapa Srbije" aria-hidden="true" />

        <!-- Маркеры. Координаты задаются в процентах через CSS-переменные --x/--y относительно контейнера -->
        <button class="marker" style="--x:25%; --y:17%" aria-expanded="false" aria-label="Subotica"></button>
        <div class="tooltip"><h3>Subotica i okolina</h3><p>CRNI BOR</p></div>

        <button class="marker" style="--x:62%; --y:22%" aria-expanded="false" aria-label="Kanjiža"></button>
        <div class="tooltip"><h3>Kanjiža</h3><p>TOPOLA</p></div>

        <button class="marker" style="--x:47%; --y:32%" aria-expanded="false" aria-label="Beograd"></button>
        <div class="tooltip"><h3>Beograd i okolina</h3><p>HRAST SLADUN, POLJSKI JASEN, HRAST LUŽNJAK</p></div>

        <button class="marker" style="--x:35%; --y:46%" aria-expanded="false" aria-label="Šumadija"></button>
        <div class="tooltip"><h3>Šumadija</h3><p>HRAST LUŽNJAK, CRNI BOR</p></div>

        <button class="marker" style="--x:70%; --y:63%" aria-expanded="false" aria-label="Stara planina"></button>
        <div class="tooltip"><h3>Stara planina</h3><p>CRNI BOR</p></div>

        <button class="marker" style="--x:60%; --y:82%" aria-expanded="false" aria-label="Niš"></button>
        <div class="tooltip"><h3>Niš i okolina</h3><p>BUKVA, JAVOR, HRAST KITNJAK, DIVLJA TREŠNJA</p></div>

    </div>
</div>

<script>
    // На мобильных по клику будем переключать видимость подсказки
    const map = document.getElementById('map');
    map.addEventListener('click', (e) => {
        const m = e.target.closest('.marker');
        // Клик вне маркера — закрываем все
        if(!m){
            for(const btn of map.querySelectorAll('.marker[aria-expanded="true"]')) btn.setAttribute('aria-expanded','false');
            return;
        }
        // Сначала закрыть другие
        for(const btn of map.querySelectorAll('.marker[aria-expanded="true"]')){
            if(btn!==m) btn.setAttribute('aria-expanded','false');
        }
        // Переключить текущий
        const isOpen = m.getAttribute('aria-expanded') === 'true';
        m.setAttribute('aria-expanded', String(!isOpen));
    });

    // Escape/Tab UX + доступность
    document.addEventListener('keydown', (e)=>{
        if(e.key==='Escape'){
            for(const btn of map.querySelectorAll('.marker[aria-expanded="true"]')) btn.setAttribute('aria-expanded','false');
        }
    });
</script>
</body>
</html>
